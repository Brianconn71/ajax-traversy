<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ajax 1 - text file</title>
</head>
<body>
    <button id="button">Get Text file</button>
    <br>
    <div id="text"></div>

    <script>
    //Create an event listener
    document.getElementById('button').addEventListener('click', loadText);

    function loadText(){
        //create Xhr Object
        var xhr = new XMLHttpRequest();

        //Open - type, url/file, async
        xhr.open('GET', 'simple.txt', true);

        //Optional- used for loaders
        xhr.onprogress = function(){
            console.log('Readystate: ', xhr.readyState);
        }


        //onload soesn't work until its ready to go
        //xhr.onload = function(){
           // if(this.status == 200){
          //      console.log(this.responseText);
           // }
      //  }

      xhr.onerror = function(){
          console.log('Request error...');
      }

      xhr.onreadystatechange = function(){
          if(this.readyState == 4 && this.status == 200){
                //console.log(this.responseText)
                document.getElementById('text').innerHTML = this.responseText
          } else if(this.status = 404){
              document.getElementById('text').innerHTML = 'Not Found'
          }
      }
        //sends the request
        xhr.send();
    }
    </script>
</body>
</html>